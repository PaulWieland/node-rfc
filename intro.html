
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Introduction &#8212; node-rfc 1.0.0 documentation</title>
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="install.html" />
    <link rel="prev" title="node-rfc - SAP RFC Connector for NodeJS" href="index.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">node-rfc 1.0.0 documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="index.html" title="node-rfc - SAP RFC Connector for NodeJS"
             accesskey="P">previous</a> |
          <a href="install.html" title="Installation"
             accesskey="N">next</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="introduction">
<span id="intro"></span><h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>The NodeJS connector (a synonym for the <code class="xref py py-mod docutils literal notranslate"><span class="pre">node-rfc</span></code> package) wraps the existing <em>SAP NW RFC Library</em>,
often colloquially called <em>SAP C connector</em> or <em>SAP NW RFC SDK</em>. To start using <code class="xref py py-mod docutils literal notranslate"><span class="pre">node-rfc</span></code>
and similar connectors effectively, we highly recommend reading a series of insightful articles
about RFC communication and <em>SAP NW RFC Library</em>, published in the SAP Professional Journal (SPJ),
in 2009, by Ulrich Schmidt and Guangwei Li: <em>Improve communication between your C/C++ applications
and SAP systems with SAP NetWeaver RFC SDK</em>
<a class="reference external" href="http://www.sdn.sap.com/irj/sdn/index?overridelayout=true&amp;rid=/library/uuid/302f1a30-f4cb-2c10-e985-c8a280a96e43">Part 1: RFC client programs</a>,
<a class="reference external" href="http://www.sdn.sap.com/irj/scn/go/portal/prtroot/docs/library/uuid/b02b0719-4ccc-2c10-71ab-fe31483e466f">Part 2: RFC server programs</a>,
<a class="reference external" href="http://www.sdn.sap.com/irj/sdn/go/portal/prtroot/docs/library/uuid/5070f62a-6acd-2c10-8cb5-858ef06adbb9">Part 3: Advanced topics</a>.</p>
<p>The lecture of these articles and <a class="reference external" href="http://help.sap.com/saphelp_nw73ehp1/helpdata/en/48/a88c805134307de10000000a42189b/content.htm?frameset=/en/48/a994a77e28674be10000000a421937/frameset.htm">NW RFC SDK Guide (SAP Help)</a>
are recommended as an introduction into RFC communication and programming, while <code class="xref py py-mod docutils literal notranslate"><span class="pre">node-rfc</span></code> documentation is
focused merely on technical aspects of <code class="xref py py-mod docutils literal notranslate"><span class="pre">node-rfc</span></code> API.</p>
<div class="section" id="example-usage">
<h2>Example usage<a class="headerlink" href="#example-usage" title="Permalink to this headline">¶</a></h2>
<p>In order to call remote enabled ABAP function module, we need to create a client with
valid logon credentials, connect to the nw system and then we can invoke a remote enabled
ABAP function module from node.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">rfc</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;node-rfc&#39;</span><span class="p">);</span>

<span class="c1">// create new client</span>
<span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">rfc</span><span class="p">.</span><span class="nx">Client</span><span class="p">({</span><span class="s1">&#39;user&#39;</span><span class="o">:</span> <span class="s1">&#39;demo&#39;</span><span class="p">,</span> <span class="s1">&#39;passwd&#39;</span><span class="o">:</span> <span class="s1">&#39;welcome&#39;</span><span class="p">,</span> <span class="s1">&#39;ashost&#39;</span><span class="o">:</span> <span class="s1">&#39;10.0.0.1&#39;</span><span class="p">,</span> <span class="s1">&#39;sysnr&#39;</span><span class="o">:</span> <span class="s1">&#39;00&#39;</span><span class="p">,</span> <span class="s1">&#39;client&#39;</span><span class="o">:</span> <span class="s1">&#39;001&#39;</span><span class="p">});</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// and connect</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// check for login/connection errors</span>
    <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;could not connect to server&#39;</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">// invoke remote enabled ABAP function module</span>
  <span class="nx">client</span><span class="p">.</span><span class="nx">invoke</span><span class="p">(</span><span class="s1">&#39;STFC_CONNECTION&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">REQUTEXT</span><span class="o">:</span> <span class="s1">&#39;Hello SAP!&#39;</span> <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// check for errors (e.g. wrong parameters)</span>
        <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Error invoking STFC_CONNECTION:&#39;</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="c1">// work with result;  should be something like:</span>
      <span class="c1">// { ECHOTEXT: &#39;Hello SAP!&#39;,</span>
      <span class="c1">//   RESPTEXT: &#39;SAP R/3 Rel. 702   Sysid: E1Q      Date: 20140613   Time: 142530   Logon_Data: 001/DEMO/E&#39;,</span>
      <span class="c1">//   REQUTEXT: &#39;Hello SAP!&#39; }</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Result STFC_CONNECTION:&#39;</span><span class="p">,</span> <span class="nx">res</span><span class="p">);</span>
  <span class="p">})</span><span class="o">:</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Finally, the connection is closed automatically when the instance is deleted by the garbage collector
or by explicitly calling the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.close()</span></code> method on the client instance.</p>
</div>
<div class="section" id="data-types">
<h2>Data types<a class="headerlink" href="#data-types" title="Permalink to this headline">¶</a></h2>
<p>A remote function call executes ABAP code, which works with parameters
that have an ABAP data type. Hence, when you look at the metadata description
you will find ABAP data types for the parameters.</p>
<p>The Javascipt connector does not provide ABAP data types to be instantiated and
used within Javascript code, but rather converts between ABAP data types and Javascript
built-in types.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 6%" />
<col style="width: 26%" />
<col style="width: 7%" />
<col style="width: 9%" />
<col style="width: 42%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type Category</p></th>
<th class="head"><p>ABAP</p></th>
<th class="head"><p>Meaning</p></th>
<th class="head"><p>RFC</p></th>
<th class="head"><p>Javascript</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>numeric</p></td>
<td><p>I</p></td>
<td><p>Integer (whole number)</p></td>
<td><p>INT</p></td>
<td><p>Integer</p></td>
<td><p>Internal 1 and 2 byte integers (INT1, INT2) are also mapped to int</p></td>
</tr>
<tr class="row-odd"><td><p>numeric</p></td>
<td><p>F</p></td>
<td><p>Floating point number</p></td>
<td><p>FLOAT</p></td>
<td><p>Number</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>numeric</p></td>
<td><p>P</p></td>
<td><p>Packed number / BCD number</p></td>
<td><p>BCD</p></td>
<td><p>see remark</p></td>
<td><p>Input as Number, string or decimal (decimal.js …), output as string</p></td>
</tr>
<tr class="row-odd"><td><p>character</p></td>
<td><p>C</p></td>
<td><p>Text field (alphanumeric characters)</p></td>
<td><p>CHAR</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>character</p></td>
<td><p>D</p></td>
<td><p>Date field (Format: YYYYMMDD)</p></td>
<td><p>DATE</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>character</p></td>
<td><p>T</p></td>
<td><p>Time field (Format: HHMMSS)</p></td>
<td><p>TIME</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>character</p></td>
<td><p>N</p></td>
<td><p>Numeric text field (numeric characters)</p></td>
<td><p>NUM</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>hexadecimal</p></td>
<td><p>X</p></td>
<td><p>Hexadecimal field</p></td>
<td><p>BYTE</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>variable length</p></td>
<td><p>STRING</p></td>
<td><p>Dynamic length string</p></td>
<td><p>STRING</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>variable length</p></td>
<td><p>XSTRING</p></td>
<td><p>Dynamic length hexadecimal string</p></td>
<td><p>BYTE</p></td>
<td><p>string</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>Further <a class="reference external" href="http://help.sap.com/saphelp_nw04/helpdata/en/fc/eb2fd9358411d1829f0000e829fbfe/content.htm">details on predefined ABAP types</a> are available online.</p>
<p>The Javascript representation of a parameter is a simple key-value pair, where
the key is the name of the parameter and the value is the value of the parameter
in the corresponding Javascript type.
Beside the mentioned types, there are tables and structures:</p>
<ul class="simple">
<li><p>A structure is represented in Javascript by an object, with the
structure fields’ names as dictionary keys.</p></li>
<li><p>A table is represented in Javascript by a list of objects.</p></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table of Contents</h3>
          <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#example-usage">Example usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-types">Data types</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="remarks.html">Remarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change log</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="index.html" title="node-rfc - SAP RFC Connector for NodeJS"
              >previous</a> |
            <a href="install.html" title="Installation"
              >next</a> |
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/intro.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014, SAP AG.
      Last updated on Oct 02, 2019.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.0.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>